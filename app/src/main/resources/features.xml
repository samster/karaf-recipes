<?xml version="1.0" encoding="UTF-8"?>

<!--
Reference to external cxf repository and associated feature doesn't seem to have much effect here.  Rather, you
have to repeat it in the distro maven project.  I've noted it here just for completeness to show a complete picture
of what is needed for this app.
-->

<features name="${project.artifactId}-${project.version}">


    <repository>mvn:org.apache.cxf.karaf/apache-cxf/${cxf.version}/xml/features</repository>

    <feature name="karaf-app-thirdparty-libs">


        <bundle start-level='90'>wrap:mvn:commons-io/commons-io/2.4</bundle>

        <!--

                <bundle start-level='90'>wrap:mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.swagger-core/1.3.5_1</bundle>
                <bundle start-level='90'>wrap:mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.swagger-jaxrs/1.3.5_1</bundle>
                <bundle start-level='90'>wrap:mvn:com.fasterxml.jackson.core/jackson-annotations/2.4.2</bundle>
                <bundle start-level='90'>wrap:mvn:com.fasterxml.jackson.core/jackson-databind/2.4.2</bundle>
                <bundle start-level='90'>wrap:mvn:com.fasterxml.jackson.core/jackson-core/2.4.2</bundle>
                <bundle start-level='90'>wrap:mvn:com.fasterxml.jackson.module/jackson-module-scala_2.10/2.4.2</bundle>
                <bundle start-level='90'>wrap:mvn:com.google.guava/guava/15.0</bundle>
                <bundle start-level='90'>wrap:mvn:com.thoughtworks.paranamer/paranamer/2.6</bundle>
                <bundle start-level='90'>wrap:mvn:org.scala-lang/scala-library/2.10.4</bundle>
                <bundle start-level='90'>wrap:mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.swagger-annotations/1.3.5_1</bundle>
                <bundle start-level='90'>wrap:mvn:org.json4s/json4s-ast_2.10/3.2.5</bundle>
                <bundle start-level='90'>wrap:mvn:com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider/2.4.2</bundle>
                <bundle start-level='90'>wrap:mvn:org.json4s/json4s-jackson_2.10/3.2.5</bundle>
                <bundle start-level='90'>wrap:mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.swagger-jaxrs/1.3.5_1</bundle>
        -->





        <!--        <bundle start-level='90'>wrap:mvn:org.scala-lang/scala-library/2.10.0</bundle>
                <bundle start-level='90'>wrap:mvn:org.json4s/json4s-ext_2.10/3.2.9</bundle>
                <bundle start-level='90'>wrap:mvn:org.json4s/json4s-native_2.10/3.2.9</bundle>
                <bundle start-level='90'>wrap:mvn:org.json4s/json4s-jackson_2.10/3.2.9</bundle>
                <bundle start-level='90'>wrap:mvn:org.json4s/json4s-core_2.10/3.2.9</bundle>
                <bundle start-level='90'>wrap:mvn:org.json4s/json4s-ast_2.10/3.2.9</bundle>
                <bundle start-level='90'>wrap:mvn:com.wordnik/swagger-core_2.10/1.3.7</bundle>
                <bundle start-level='90'>wrap:mvn:com.wordnik/swagger-jaxrs_2.10/1.3.7</bundle>-->
    </feature>

    <feature name="karaf-app" version="${project.version}">
        <feature>cxf-rs-security-cors</feature>
        <feature>karaf-app-thirdparty-libs</feature>
        <feature>war</feature>
        <bundle start-level='95'>mvn:com.samstercode.karafrecipes/karaf-svc/${project.version}</bundle>
        <bundle start-level='95'>mvn:com.samstercode.karafrecipes/karaf-rest/${project.version}</bundle>
        <bundle start-level='95'>mvn:com.samstercode.karafrecipes/karaf-ui/${project.version}/war</bundle>
        <bundle start-level='95'>mvn:com.samstercode.karafrecipes/karaf-api-docs/${project.version}/war</bundle>
    </feature>

</features>


